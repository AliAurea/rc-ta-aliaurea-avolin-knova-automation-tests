import { StepLogger } from '../../../../core/logger/step-logger';
import { PageHelper } from '../../../components/html/page-helper';
import { Constants } from '../../../components/misc-utils/constants';
import { AdminLoginPageHelper } from '../../../page-objects/pages/admin-login-page/admin-login.helper';
import { ContentAlertManagerConstant } from '../../../page-objects/pages/manage-communities/content-alert-manager/content-alert-manager.constants';
import { ContentAlertManagerHelper } from '../../../page-objects/pages/manage-communities/content-alert-manager/content-alert-manager.helper';
import { ContentAlertManagerPage } from '../../../page-objects/pages/manage-communities/content-alert-manager/content-alert-manager.po';
import { SuiteNames } from '../../helpers/suite-names';

describe(SuiteNames.regressionSuite, () => {
    let loginPageHelper: AdminLoginPageHelper;
    const word1 = `${Constants.stringNumber.zeroZero}${ContentAlertManagerConstant.textArea.test}${PageHelper.getUniqueId()}`.toUpperCase();
    const word2 = `${Constants.stringNumber.zeroOne}${ContentAlertManagerConstant.textArea.test}${PageHelper.getUniqueId()}`.toUpperCase();
    const word3 = `${Constants.stringNumber.zeroTwo}${ContentAlertManagerConstant.textArea.test}${PageHelper.getUniqueId()}`.toUpperCase();
    const textArea = ContentAlertManagerConstant.textArea;
    const buttons = ContentAlertManagerPage.buttons;

    beforeAll(async () => {
        loginPageHelper = AdminLoginPageHelper.getInstance();
        await PageHelper.maximiseBrowser();
        await loginPageHelper.goTo();
    });

    beforeEach(async () => {
        await PageHelper.switchToFirstTab();
        await loginPageHelper.goTo();
        await AdminLoginPageHelper.loginAsAdmin();
    });

    // Jira References - KNOV-746
    it('To select the range of terms for deletion using SHIFT key for rejection- Exact match - [22336233]', async () => {
        // Auto generated by aurea-automation - util on Thu, 21 Feb 2019 08:24:27 GMT
        StepLogger.caseId = 22336233;

        StepLogger.preCondition('Access the content alert manager section and add words');
        await ContentAlertManagerHelper.navigateToContentAlertManager();
        await ContentAlertManagerHelper.addThreeWords(
            textArea.level1Exact, buttons.addLevel1Exact, textArea.level1ExactSelect, word1, word2, word3);

        // Step 1 has been covered in Step 2
        StepLogger.stepId(1);
        StepLogger.step(`Go to automatic rejection-exact match section.
            Click on the word to be deleted from the list.`);
        StepLogger.verification('The value should be selected successfully.');

        StepLogger.stepId(2);
        StepLogger.step('Keep pressing SHIFT button and click on another word.');
        await ContentAlertManagerHelper.selectWordsWithShift(textArea.level1ExactSelect, word1, word2, word3);
        StepLogger.verification('The range of words between the first selected word and the last selected word should be selected.');
        await ContentAlertManagerHelper.verifyMultipleSelectedWords(textArea.level1ExactSelect, word1, word2, word3);

        StepLogger.stepId(3);
        StepLogger.step('Click on Delete button below the list.');
        await buttons.deleteLevel1Exact.clickButton();
        StepLogger.verification('The selected range of words should be deleted.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level1ExactSelect, word1, word2, word3);

        StepLogger.stepId(4);
        StepLogger.step('Click on Submit at the bottom of the page.');
        await buttons.submit.clickButton();
        StepLogger.verification('The deleted words should not be visible to the user.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level1ExactSelect, word1, word2, word3);

        StepLogger.postCondition('Logout');
        await AdminLoginPageHelper.logout(true);
    });

    // Jira References - KNOV-747
    it('To select the range of terms for deletion using SHIFT key for rejection- Partial match - [22336235]', async () => {
        // Auto generated by aurea-automation - util on Thu, 21 Feb 2019 08:24:27 GMT
        StepLogger.caseId = 22336235;

        StepLogger.preCondition('Access the content alert manager section and add words');
        await ContentAlertManagerHelper.navigateToContentAlertManager();
        await ContentAlertManagerHelper.addThreeWords(
            textArea.level1Partial, buttons.addLevel1Partial, textArea.level1PartialSelect, word1, word2, word3);

        // Step 1 has been covered in Step 2
        StepLogger.stepId(1);
        StepLogger.step(`Go to automatic rejection-partial match section.
            Click on the word to be deleted from the list.`);
        StepLogger.verification('The value should be selected successfully.');

        StepLogger.stepId(2);
        StepLogger.step('Keep pressing SHIFT button and click on another word.');
        await ContentAlertManagerHelper.selectWordsWithShift(textArea.level1PartialSelect, word1, word2, word3);
        StepLogger.verification('The range of words between the first selected word and the last selected word should be selected.');
        await ContentAlertManagerHelper.verifyMultipleSelectedWords(textArea.level1PartialSelect, word1, word2, word3);

        StepLogger.stepId(3);
        StepLogger.step('Click on Delete button below the list.');
        await buttons.deleteLevel1Partial.clickButton();
        StepLogger.verification('The selected range of words should be deleted.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level1PartialSelect, word1, word2, word3);

        StepLogger.stepId(4);
        StepLogger.step('Click on Submit at the bottom of the page.');
        await buttons.submit.clickButton();
        StepLogger.verification('The deleted words should not be visible to the user.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level1PartialSelect, word1, word2, word3);

        StepLogger.postCondition('Logout');
        await AdminLoginPageHelper.logout(true);
    });

    // Jira References - KNOV-748
    it('To select the range of terms for deletion using SHIFT key for high alert- Exact match - [22336236]', async () => {
        // Auto generated by aurea-automation - util on Thu, 21 Feb 2019 08:24:27 GMT
        StepLogger.caseId = 22336236;

        StepLogger.preCondition('Access the content alert manager section and add words');
        await ContentAlertManagerHelper.navigateToContentAlertManager();
        await ContentAlertManagerHelper.addThreeWords(
            textArea.level2Exact, buttons.addLevel2Exact, textArea.level2ExactSelect, word1, word2, word3);

        // Step 1 has been covered in Step 2
        StepLogger.stepId(1);
        StepLogger.step(`Go to high alert-exact match section.
            Click on the word to be deleted from the list.`);
        StepLogger.verification('The value should be selected successfully.');

        StepLogger.stepId(2);
        StepLogger.step('Keep pressing SHIFT button and click on another word.');
        await ContentAlertManagerHelper.selectWordsWithShift(textArea.level2ExactSelect, word1, word2, word3);
        StepLogger.verification('The range of words between the first selected word and the last selected word should be selected.');
        await ContentAlertManagerHelper.verifyMultipleSelectedWords(textArea.level2ExactSelect, word1, word2, word3);

        StepLogger.stepId(3);
        StepLogger.step('Click on Delete button below the list.');
        await buttons.deleteLevel2Exact.clickButton();
        StepLogger.verification('The words should be removed from the list.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level2ExactSelect, word1, word2, word3);

        StepLogger.stepId(4);
        StepLogger.step('Click on Submit at the bottom of the page.');
        await buttons.submit.clickButton();
        StepLogger.verification('The deleted words should not be visible to the user.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level2ExactSelect, word1, word2, word3);

        StepLogger.postCondition('Logout');
        await AdminLoginPageHelper.logout(true);
    });

    // Jira References - KNOV-749
    it('To select the range of terms for deletion using SHIFT key for high alert- Partial match - [22336237]', async () => {
        // Auto generated by aurea-automation - util on Thu, 21 Feb 2019 08:24:27 GMT
        StepLogger.caseId = 22336237;

        StepLogger.preCondition('Access the content alert manager section and add words');
        await ContentAlertManagerHelper.navigateToContentAlertManager();
        await ContentAlertManagerHelper.addThreeWords(
            textArea.level2Partial, buttons.addLevel2Partial, textArea.level2PartialSelect, word1, word2, word3);

        // Step 1 has been covered in Step 2
        StepLogger.stepId(1);
        StepLogger.step(`Go to high alert-partial match section.
            Click on the word to be deleted from the list.`);
        StepLogger.verification('The value should be selected successfully.');

        StepLogger.stepId(2);
        StepLogger.step('Keep pressing SHIFT button and click on another word.');
        await ContentAlertManagerHelper.selectWordsWithShift(textArea.level2PartialSelect, word1, word2, word3);
        StepLogger.verification('The range of words between the first selected word and the last selected word should be selected.');
        await ContentAlertManagerHelper.verifyMultipleSelectedWords(textArea.level2PartialSelect, word1, word2, word3);

        StepLogger.stepId(3);
        StepLogger.step('Click on Delete button below the list.');
        await buttons.deleteLevel2Partial.clickButton();
        StepLogger.verification('The word(s) should be removed from the list.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level2PartialSelect, word1, word2, word3);

        StepLogger.stepId(4);
        StepLogger.step('Click on Submit at the bottom of the page.');
        await buttons.submit.clickButton();
        StepLogger.verification('The deleted words should not be visible to the user.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level2PartialSelect, word1, word2, word3);

        StepLogger.postCondition('Logout');
        await AdminLoginPageHelper.logout(true);
    });

    // Jira References - KNOV-750
    it('To select the range of terms for deletion using SHIFT key for medium alert- Exact match - [22336238]', async () => {
        // Auto generated by aurea-automation - util on Thu, 21 Feb 2019 08:24:27 GMT
        StepLogger.caseId = 22336238;

        StepLogger.preCondition('Access the content alert manager section and add words');
        await ContentAlertManagerHelper.navigateToContentAlertManager();
        await ContentAlertManagerHelper.addThreeWords(
            textArea.level3Exact, buttons.addLevel3Exact, textArea.level3ExactSelect, word1, word2, word3);

        // Step 1 has been covered in Step 2
        StepLogger.stepId(1);
        StepLogger.step(`Go to medium alert-exact match section.
            Click on the word to be deleted from the list.`);
        StepLogger.verification('The value should be selected successfully.');

        StepLogger.stepId(2);
        StepLogger.step('Keep pressing SHIFT button and click on another word.');
        await ContentAlertManagerHelper.selectWordsWithShift(textArea.level3ExactSelect, word1, word2, word3);
        StepLogger.verification('The range of words between the first selected word and the last selected word should be selected.');
        await ContentAlertManagerHelper.verifyMultipleSelectedWords(textArea.level3ExactSelect, word1, word2, word3);

        StepLogger.stepId(3);
        StepLogger.step('Click on Delete button below the list.');
        await buttons.deleteLevel3Exact.clickButton();
        StepLogger.verification('The words should be removed from the list.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level3ExactSelect, word1, word2, word3);

        StepLogger.stepId(4);
        StepLogger.step('Click on Submit at the bottom of the page.');
        await buttons.submit.clickButton();
        StepLogger.verification('The deleted words should not be visible to the user.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level3ExactSelect, word1, word2, word3);

        StepLogger.postCondition('Logout');
        await AdminLoginPageHelper.logout(true);
    });

    // Jira References - KNOV-752
    it('To select the range of terms for deletion using SHIFT key for medium alert- Partial match - [22336240]', async () => {
        // Auto generated by aurea-automation - util on Thu, 21 Feb 2019 08:24:27 GMT
        StepLogger.caseId = 22336240;

        StepLogger.preCondition('Access the content alert manager section and add words');
        await ContentAlertManagerHelper.navigateToContentAlertManager();
        await ContentAlertManagerHelper.addThreeWords(
            textArea.level3Partial, buttons.addLevel3Partial, textArea.level3PartialSelect, word1, word2, word3);

        // Step 1 has been covered in Step 2
        StepLogger.stepId(1);
        StepLogger.step(`Go to medium alert-partial match section.
            Click on the word to be deleted from the list.`);
        StepLogger.verification('The value should be selected successfully.');

        StepLogger.stepId(2);
        StepLogger.step('Keep pressing SHIFT button and click on another word.');
        await ContentAlertManagerHelper.selectWordsWithShift(textArea.level3PartialSelect, word1, word2, word3);
        StepLogger.verification('The range of words between the first selected word and the last selected word should be selected.');
        await ContentAlertManagerHelper.verifyMultipleSelectedWords(textArea.level3PartialSelect, word1, word2, word3);

        StepLogger.stepId(3);
        StepLogger.step('Click on Delete button below the list.');
        await buttons.deleteLevel3Partial.clickButton();
        StepLogger.verification('The words should be removed from the list.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level3PartialSelect, word1, word2, word3);

        StepLogger.stepId(4);
        StepLogger.step('Click on Submit at the bottom of the page.');
        await buttons.submit.clickButton();
        StepLogger.verification('The deleted words should not be visible to the user.');
        await ContentAlertManagerHelper.verifyThreeWordsDeleted(textArea.level3PartialSelect, word1, word2, word3);

        StepLogger.postCondition('Logout');
        await AdminLoginPageHelper.logout(true);
    });
});
